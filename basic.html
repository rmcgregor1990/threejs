<html>
    <head>
        <title>My first Three.js app</title>
        <style>canvas { width: 100%; height: 100% }</style>
    </head>
    <body>
    <canvas id="container" name ="container" width="700" height="700"></canvas>
        <script src="js/three.js"></script>
        <script src="js/jquery-2.1.1.js"></script>
        <script src="js/BasicThreeRenderer.js"></script>
        <script src="js/controls/TrackBallControls.js"></script>
        <script src="js/loaders/STLLoader.js"></script>
        <script src="js/utils/underscore.js"></script>
        <script src="js/utils/FileSaver.js"></script>
        <script src="js/wip/TypedGeometry.js"></script>
        <script src="js/exporters/STLExporter.js"></script>
        <script>
            var canvas =  document.getElementById('container');
            var jsScene = new WebGLScene(canvas);
            jsScene.initScene(0xffffff, 0.0, { antialiasing: true });
            jsScene.render(jsScene);
            jsScene.addCube([10,1,10],[0,-1,0], 0xff0000);
            jsScene.addCube([2,2,2],[2,2,2]);
            jsScene.addSTL("models/BatteryAssembly.stl",[0,0,0], 0x00ff00);
            //clearScene();
        </script>
        <form id="text-options">
            <input type="submit" value="Save"/>        
        </form>
        <script>     
            var text_options_form = document.getElementById('text-options');
            text_options_form.addEventListener("submit", function(event) {
                event.preventDefault();
                var blob = new Blob([jsScene.exportToSTL()], {type: "text/plain;charset=utf-8"});
                saveAs(blob, "model.stl");
            }, false);
        </script>
    </body>
</html>